<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title></title>
<script type="text/javascript" src="js/jquery-1.8.3.min.js"></script>

<script type="text/javascript">
$(document).ready(function() {
    $('#btn').click(function(){
        console.log('1');
        $.ajax({
            type:'POST',
            url:'good/query',
            data:{name:$("input[name='Name']").val()},
            dataType:'json',
            beforeSend:LoadFunction,
            error:erryFunction,
            success:succFunction
        })
        function LoadFunction() {  
            $("#list").html('加载中...');  
            console.log('2');
        }
        function erryFunction() {  
            alert("商品不存在，请重试！");  
        } 
        function succFunction(data) {
            if(data === '请先登录'){
                alert(data)
                return
            }
            data=eval(data);
            var tbody=$('<tbody></tbody>');
            $.each(data,function(key,val){
                console.log(key,val);
                var tr=$('<tr></tr>');
                //在标签结尾插入指定内容
                tr.append('<td>'+ val.id + '</td>'  + '<td>'+ val.name + '</td>' +'<td>'+ val.amount + '</td>' + '<td>'+val.inprice+'</td>'+'<td>'+val.outprice+'</td>'+'<td>'+val.type+'</td>');
                tbody.append(tr);
            });
            $('#myTable tbody').replaceWith(tbody);  
        }
    });    
});
    
</script>
</head>
<body>
    请输入商品名:<input type="text" name="Name" />
    <input type="button" value="搜索" id="btn" />
    
    <table id="myTable" cellpadding="1" cellspacing="0" border="1">
        <thead>
            
            <td>编码</td>
            <td>名称</td>
            <td>库存量</td>
            <td>售价（元/个）</td>
            <td>进价（元/个）</td>
            <td>类别</td>
        </thead>
        <tbody>
            <tr>
               
            </tr> 
        </tbody>
    </table>
    <!-- [{"id":1,
                "name":"abc",
                "amount":12,
                "inprice":10.5,
                "outprice":15.0,
                "type":"q"},
                {"id":2,"name":"aab","amount":12,"inprice":10.5,"outprice":15.0,"type":"q"},{"id":3,"name":"bcc","amount":12,"inprice":10.5,"outprice":15.0,"type":"q"},{"id":4,"name":"aabcc","amount":12,"inprice":10.5,"outprice":15.0,"type":"q"}]-->
    <ul id="list">     
    </ul>


    </body>
</html>